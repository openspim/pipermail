<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenSPIM] Anti-drift update
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:openspim%40openspim.org?Subject=Re%3A%20%5BOpenSPIM%5D%20Anti-drift%20update&In-Reply-To=%3C53E9805E.6040802%40wisc.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000503.html">
   <LINK REL="Next"  HREF="000505.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenSPIM] Anti-drift update</H1>
    <B>Luke Stuyvenberg</B> 
    <A HREF="mailto:openspim%40openspim.org?Subject=Re%3A%20%5BOpenSPIM%5D%20Anti-drift%20update&In-Reply-To=%3C53E9805E.6040802%40wisc.edu%3E"
       TITLE="[OpenSPIM] Anti-drift update">stuyvenberg at wisc.edu
       </A><BR>
    <I>Mon Aug 11 21:47:58 CDT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="000503.html">[OpenSPIM] EMBO course participants!
</A></li>
        <LI>Next message: <A HREF="000505.html">[OpenSPIM] Anti-drift update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#504">[ date ]</a>
              <a href="thread.html#504">[ thread ]</a>
              <a href="subject.html#504">[ subject ]</a>
              <a href="author.html#504">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Aurelia,

Sorry about the delay; I've just moved across the States, and ran into 
enormous trouble getting my internet connection established.

On 7/31/2014 10:21 AM, Aurelia Honerkamp-Smith wrote:
&gt;<i> If I make a correction to Y or Z, I get the result I expect; the image 
</I>&gt;<i> moves the right distance, in the right direction, and then doesn't 
</I>&gt;<i> move again in the last 3 frames. But if I make a correction in X, the 
</I>&gt;<i> stage moves to the correct position, but then on the following frame 
</I>&gt;<i> moves 2x the previous distance, and then next time moves 2x the 
</I>&gt;<i> previous one again, until it leaves the field of view.  The attached 
</I>&gt;<i> image shows z-projections of subsequent frames, with red being the 
</I>&gt;<i> first one, green the second, and blue is third frame.  If I correct to 
</I>&gt;<i> the left instead of right, the embryo continues off to the left 
</I>&gt;<i> instead.  Setting the stage or the camera to &quot;transpose mirror X&quot; in 
</I>&gt;<i> the tools/property browser changes whether the live view mouse control 
</I>&gt;<i> behaves correctly, but doesn't alter this behavior.
</I>&gt;<i> A sample log file showing the anti-drift corrections:
</I>&gt;<i> ...
</I>It's interesting to me that Y isn't affected -- I presume you've tried 
this same test with a slight Y correction? And how did you measure your 
pixel size/have you verified its accuracy? Is this same test repeatable? 
I've been working on a test to validate the behavior of the anti-drift, 
and while it's not yet advanced enough for me to be certain there's no 
software fault here, I haven't been able to obtain these dramatic jerks 
so far.

When anti-drift is on, the software produces a directory containing some 
images useful for debugging problems with it -- if it's not too large, 
could you compress and send those files? (If they're more than a few 
megabytes, you can probably send it directly to me to spare other users' 
inboxes.) They might also help identify any problems.

Hope these questions help shed some light on the issue,
Luke

On 7/31/2014 10:21 AM, Aurelia Honerkamp-Smith wrote:
&gt;<i> Hi,
</I>&gt;<i> I'm still having trouble with the anti-drift function, and I'm not 
</I>&gt;<i> sure how to proceed.  To explain the trouble, I made the following 
</I>&gt;<i> test: I set up a 5-time point acquisition with only one view, turned 
</I>&gt;<i> on the anti-drift, and made a manual correction to first one, then 
</I>&gt;<i> made no more adjustments after that.  The frames are 100 seconds 
</I>&gt;<i> apart, so no significant actual drift should be occurring.
</I>&gt;<i> If I make a correction to Y or Z, I get the result I expect; the image 
</I>&gt;<i> moves the right distance, in the right direction, and then doesn't 
</I>&gt;<i> move again in the last 3 frames. But if I make a correction in X, the 
</I>&gt;<i> stage moves to the correct position, but then on the following frame 
</I>&gt;<i> moves 2x the previous distance, and then next time moves 2x the 
</I>&gt;<i> previous one again, until it leaves the field of view.  The attached 
</I>&gt;<i> image shows z-projections of subsequent frames, with red being the 
</I>&gt;<i> first one, green the second, and blue is third frame.  If I correct to 
</I>&gt;<i> the left instead of right, the embryo continues off to the left 
</I>&gt;<i> instead.  Setting the stage or the camera to &quot;transpose mirror X&quot; in 
</I>&gt;<i> the tools/property browser changes whether the live view mouse control 
</I>&gt;<i> behaves correctly, but doesn't alter this behavior.
</I>&gt;<i> A sample log file showing the anti-drift corrections:
</I>&gt;<i> TP 0 view 0: Offset: {8.6508; 0; 0}  (this x correction is the one I 
</I>&gt;<i> have put in)
</I>&gt;<i> TP 0 view 0: Offset: {16.46055; -0.2493; 0}
</I>&gt;<i> TP 0 view 0: Offset: {34.48305; 0.2403; 0}
</I>&gt;<i> TP 0 view 0: Offset: {69.08625; -1.08135; 0}
</I>&gt;<i>
</I>&gt;<i> It seems like there is a sign error of some kind, but I can't figure 
</I>&gt;<i> out a way to change my configuration to correct it.  I have already 
</I>&gt;<i> switched the X and Y serial numbers in my configuration file, which 
</I>&gt;<i> improved things a little (previously this test resulted in the embryo 
</I>&gt;<i> traveling in circles).
</I>&gt;<i> Any ideas?
</I>&gt;<i> Thanks,
</I>&gt;<i> Aurelia
</I>&gt;<i>
</I>&gt;<i>
</I>

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000503.html">[OpenSPIM] EMBO course participants!
</A></li>
	<LI>Next message: <A HREF="000505.html">[OpenSPIM] Anti-drift update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#504">[ date ]</a>
              <a href="thread.html#504">[ thread ]</a>
              <a href="subject.html#504">[ subject ]</a>
              <a href="author.html#504">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://openspim.org/mailman/listinfo/openspim">More information about the OpenSPIM
mailing list</a><br>
</body></html>
