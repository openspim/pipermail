<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenSPIM] asynchronous writing of stacks bug?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:openspim%40openspim.org?Subject=Re%3A%20%5BOpenSPIM%5D%20asynchronous%20writing%20of%20stacks%20bug%3F&In-Reply-To=%3C5C2B0E2F-DEEA-4B52-AF34-93AAF49B00E5%40mpi-cbg.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000133.html">
   <LINK REL="Next"  HREF="000135.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenSPIM] asynchronous writing of stacks bug?</H1>
    <B>Michael Weber</B> 
    <A HREF="mailto:openspim%40openspim.org?Subject=Re%3A%20%5BOpenSPIM%5D%20asynchronous%20writing%20of%20stacks%20bug%3F&In-Reply-To=%3C5C2B0E2F-DEEA-4B52-AF34-93AAF49B00E5%40mpi-cbg.de%3E"
       TITLE="[OpenSPIM] asynchronous writing of stacks bug?">weber at mpi-cbg.de
       </A><BR>
    <I>Wed Aug 14 07:53:09 CDT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="000133.html">[OpenSPIM] asynchronous writing of stacks bug?
</A></li>
        <LI>Next message: <A HREF="000135.html">[OpenSPIM] asynchronous writing of stacks bug?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#134">[ date ]</a>
              <a href="thread.html#134">[ thread ]</a>
              <a href="subject.html#134">[ subject ]</a>
              <a href="author.html#134">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Alexis,

the light sheet might simply be too thick, I think that's still an issue with OpenSPIM v1. If you have laser power left you could try and extend the beam further in the first place.

Regarding the stack issue - you mentioned that it takes about 3 min to write 400 MB to disk, that might be an issue on the computer hardware side. A simple hard drive should give you around 100 MB/s, with smaller data packages it might be less but 3 min sounds way to slow. Can you reduce the data rate and see if that helps? For example by reducing the frame rate or using binning while keeping the frame rate constant. Or if you can, try an SSD drive or a RAID system for data acquisition. Streaming data can also be very sensitive to background activities, such as virus scanners, cloud syncing, update scanners.

Best regards,
Michael


On Aug 14, 2013, at 10:20 AM, Alexis Maizel &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">Alexis.Maizel at cos.uni-heidelberg.de</A>&gt; wrote:

&gt;<i> Hi Jan,
</I>&gt;<i> 
</I>&gt;&gt;<i> BTW the images are not in focus and you seem to collect quite a bit of laser speckles. Clearly a sign for a bad emission filter or that your laser needs a clean-up filter.
</I>&gt;<i> 
</I>&gt;<i> Yes, the laser does need a clean up filter quite a bit of green light in it, especially at low power; it is ordered. The emission filter (<A HREF="http://www.semrock.com/FilterDetails.aspx?id=FF03-525/50-25">http://www.semrock.com/FilterDetails.aspx?id=FF03-525/50-25</A>) seems right, no? 
</I>&gt;<i> 
</I>&gt;<i> As for focus, this is the best we could get so far :-/
</I>&gt;<i> Our LS is ~10&#181;m thick and nicely shaped. The excitation lens is a Nikon CFI FLUOR 10x/0.30.
</I>&gt;<i> Do you have suggestions to improve the focus?
</I>&gt;<i> 
</I>&gt;<i> With my best regards,
</I>&gt;<i> 
</I>&gt;<i> Alexis
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On 14 Aug 2013, at 10:11, Jan Huisken &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">huisken at mpi-cbg.de</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Hi Alexis,
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> this is clearly a camera issue. Sometimes this goes along with missing or partial frames. We have seen it happening when something goes wrong with the spooling, e.g. when the hard drive is too slow or too full or too many files in one folder.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Best
</I>&gt;&gt;<i> Jan
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Dr. Jan Huisken
</I>&gt;&gt;<i> MPI of Molecular Cell Biology and Genetics
</I>&gt;&gt;<i> Pfotenhauerstr. 108, 01307 Dresden, Germany
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> On Aug 13, 2013, at 8:14 PM, Alexis Maizel wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> Hi,
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> I have noticed that when acquiring stacks during a time lapse and writing them to disk, using the 'asynchronous writing' option, the order in which the individual images are laid into the stack is imprecise. What I mean is that an image obviously in the middle of the stack is shifted toward the end. I did not observed a fixed pattern, except that usually the first 15-20 planes are in the right order and the mess is a the end.
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> I have carefully observed and the problem does not come from the stage 'going back and forth' during acquisition. It is upon writing to the disk that the problem seems to occur. Also I have noticed that it takes quite a long time (up to 3 minutes) to write to disk a ~400Mb stack. 
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> You can see more precisely what I am talking about by looking at two representative stacks: <A HREF="http://dl.dropbox.com/u/484859/Stacks.zip">http://dl.dropbox.com/u/484859/Stacks.zip</A>
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> With my best regards,
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> Alexis
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> OpenSPIM mailing list
</I>&gt;&gt;&gt;<i> <A HREF="http://openspim.org/mailman/listinfo/openspim">OpenSPIM at openspim.org</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://openspim.org/mailman/listinfo/openspim">http://openspim.org/mailman/listinfo/openspim</A>
</I>&gt;&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OpenSPIM mailing list
</I>&gt;<i> <A HREF="http://openspim.org/mailman/listinfo/openspim">OpenSPIM at openspim.org</A>
</I>&gt;<i> <A HREF="http://openspim.org/mailman/listinfo/openspim">http://openspim.org/mailman/listinfo/openspim</A>
</I>
_____________

Michael Weber
PhD Student, Huisken lab
Max Planck Institute of Molecular Cell Biology and Genetics
Pfotenhauerstrasse 108, 01307 Dresden
Tel. 0049 351/2102837

<A HREF="http://www.mpi-cbg.de/huisken">http://www.mpi-cbg.de/huisken</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://openspim.org/pipermail/openspim/attachments/20130814/3106b327/attachment.html">http://openspim.org/pipermail/openspim/attachments/20130814/3106b327/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000133.html">[OpenSPIM] asynchronous writing of stacks bug?
</A></li>
	<LI>Next message: <A HREF="000135.html">[OpenSPIM] asynchronous writing of stacks bug?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#134">[ date ]</a>
              <a href="thread.html#134">[ thread ]</a>
              <a href="subject.html#134">[ subject ]</a>
              <a href="author.html#134">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://openspim.org/mailman/listinfo/openspim">More information about the OpenSPIM
mailing list</a><br>
</body></html>
