<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenSPIM] OpenSPIM Digest, Vol 14, Issue 20
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:openspim%40openspim.org?Subject=Re%3A%20%5BOpenSPIM%5D%20OpenSPIM%20Digest%2C%20Vol%2014%2C%20Issue%2020&In-Reply-To=%3C7670fae01a4d5.53b127fc%40wiscmail.wisc.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=utf-8">
   <LINK REL="Previous"  HREF="001429.html">
   <LINK REL="Next"  HREF="001432.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenSPIM] OpenSPIM Digest, Vol 14, Issue 20</H1>
    <B>Luke Stuyvenberg</B> 
    <A HREF="mailto:openspim%40openspim.org?Subject=Re%3A%20%5BOpenSPIM%5D%20OpenSPIM%20Digest%2C%20Vol%2014%2C%20Issue%2020&In-Reply-To=%3C7670fae01a4d5.53b127fc%40wiscmail.wisc.edu%3E"
       TITLE="[OpenSPIM] OpenSPIM Digest, Vol 14, Issue 20">stuyvenberg at wisc.edu
       </A><BR>
    <I>Mon Jun 30 09:03:56 CDT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="001429.html">[OpenSPIM] OpenSPIM Digest, Vol 14, Issue 20
</A></li>
        <LI>Next message: <A HREF="001432.html">[OpenSPIM] OpenSPIM Digest, Vol 14, Issue 20
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1430">[ date ]</a>
              <a href="thread.html#1430">[ thread ]</a>
              <a href="subject.html#1430">[ subject ]</a>
              <a href="author.html#1430">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Aurelia,

Sorry about that; it seems a lot more had changed than I had expected. I've updated the update site again, with a number of changes (new MMCore, new versions of the device adapters). It tested okay on my virtual machine, but if there's still a problem, please let me know. If you run into other device adapter problems (i.e. not with PicardStage), try getting updated device adapter versions from the nightly build as of 24 June or so.


Thanks!
Luke

On 06/29/14, Aurelia Honerkamp-Smith  wrote:
&gt;<i> Hello, 
</I>&gt;<i> 
</I>&gt;<i> I am afraid that after updating to the newest PicardStage dll, my previous configuration is unable to load the stage. I get an error message:
</I>&gt;<i> 
</I>&gt;<i> Line 8: Device,Picard Twister,PicardStage,Picard Twister
</I>&gt;<i> Failed to load device adapter &quot;PicardStage&quot; from &quot;C:\Users\ah659\Desktop\OPENSP~1\OpenSPIM.app\mm\win32\mmgr_dal_PicardStage.dll&quot;
</I>&gt;<i> 
</I>&gt;<i> Line 9: Device,Picard Z Stage,PicardStage,Picard Z Stage
</I>&gt;<i> Failed to load device adapter &quot;PicardStage&quot; from &quot;C:\Users\ah659\Desktop\OPENSP~1\OpenSPIM.app\mm\win32\mmgr_dal_PicardStage.dll&quot;
</I>&gt;<i> 
</I>&gt;<i> Line 10: Device,Picard XY Stage,PicardStage,Picard XY Stage
</I>&gt;<i> Failed to load device adapter &quot;PicardStage&quot; from &quot;C:\Users\ah659\Desktop\OPENSP~1\OpenSPIM.app\mm\win32\mmgr_dal_PicardStage.dll&quot;
</I>&gt;<i> 
</I>&gt;<i> Line 22: Property,Picard Twister,Serial Number,60
</I>&gt;<i> No device with label &quot;Picard Twister&quot;
</I>&gt;<i> 
</I>&gt;<i> Line 23: Property,Picard Z Stage,Serial Number,181
</I>&gt;<i> No device with label &quot;Picard Z Stage&quot;
</I>&gt;<i> 
</I>&gt;<i> Line 24: Property,Picard XY Stage,Serial Number (X),182
</I>&gt;<i> No device with label &quot;Picard XY Stage&quot;
</I>&gt;<i> 
</I>&gt;<i> Line 25: Property,Picard XY Stage,Serial Number (Y),180
</I>&gt;<i> No device with label &quot;Picard XY Stage&quot;
</I>&gt;<i> 
</I>&gt;<i> Line 26: Property,Picard XY Stage,X-Max,8000
</I>&gt;<i> No device with label &quot;Picard XY Stage&quot;
</I>&gt;<i> 
</I>&gt;<i> Line 27: Property,Picard XY Stage,X-Min,1
</I>&gt;<i> No device with label &quot;Picard XY Stage&quot;
</I>&gt;<i> 
</I>&gt;<i> Line 28: Property,Picard XY Stage,Y-Max,8000
</I>&gt;<i> No device with label &quot;Picard XY Stage&quot;
</I>&gt;<i> 
</I>&gt;<i> Line 29: Property,Picard XY Stage,Y-Min,1
</I>&gt;<i> No device with label &quot;Picard XY Stage&quot;
</I>&gt;<i> 
</I>&gt;<i> Line 44: Property,Core,Focus,Picard Z Stage
</I>&gt;<i> Cannot set Core property Focus to invalid value &quot;Picard Z Stage&quot;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I can still load the camera and my shutter. The Picard Stage now appears unavailable in the hardware configuration wizard. I am also using 32-bit Fiji on a 64-bit machine, but haven&#39;t had trouble loading the stage before (it appeared to work normally, with the exception of the occasional communication delay that I mentioned earlier). I attach a core log. 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Sat, Jun 28, 2014 at 6:00 PM, &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">openspim at openspim.org</A> &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">openspim-request at openspim.org</A>')&quot; target=&quot;1&quot;&gt;<A HREF="http://openspim.org/mailman/listinfo/openspim">openspim-request at openspim.org</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; Send OpenSPIM mailing list submissions to
</I>&gt;<i> &gt; <A HREF="http://openspim.org/mailman/listinfo/openspim(javascript:main.compose(">http://openspim.org/mailman/listinfo/openspim(javascript:main.compose(</A>'new', 't=<A HREF="http://openspim.org/mailman/listinfo/openspim">openspim at openspim.org</A>&gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;<i> &gt; &lt;a href=)
</I>&gt;<i> &gt; or, via email, send a message with subject or body &#39;help&#39; to
</I>&gt;<i> &gt; <A HREF="http://openspim.org/mailman/listinfo/openspim">openspim-request at openspim.org</A> &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">openspim-request at openspim.org</A>&gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; You can reach the person managing the list at
</I>&gt;<i> &gt; <A HREF="http://openspim.org/mailman/listinfo/openspim">openspim-owner at openspim.org</A> &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">openspim-owner at openspim.org</A>&gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; When replying, please edit your Subject line so it is more specific
</I>&gt;<i> &gt; than &quot;Re: Contents of OpenSPIM digest...&quot;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Today&#39;s Topics:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 1. Re: Problems with OpenSPIM system (Ke Li)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; ----------------------------------------------------------------------
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Message: 1
</I>&gt;<i> &gt; Date: Fri, 27 Jun 2014 22:35:42 -0400
</I>&gt;<i> &gt; From: Ke Li &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">tianlankeke at gmail.com</A> &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">tianlankeke at gmail.com</A>&gt;&gt;
</I>&gt;<i> &gt; To: Kieran Short &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">kieran.short at gmail.com</A> &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">kieran.short at gmail.com</A>&gt;&gt;
</I>&gt;<i> &gt; Cc: <A HREF="http://openspim.org/mailman/listinfo/openspim">openspim at openspim.org</A> &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">openspim at openspim.org</A>&gt;
</I>&gt;<i> &gt; Subject: Re: [OpenSPIM] Problems with OpenSPIM system
</I>&gt;<i> &gt; Message-ID:
</I>&gt;<i> &gt; &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">CANQL1FuGbrN-Sm4v+W4utYF1hQTVW_C__xYaguRgf3dEJ3wGKA at mail.gmail.com</A> &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">CANQL1FuGbrN-Sm4v+W4utYF1hQTVW_C__xYaguRgf3dEJ3wGKA at mail.gmail.com</A>&gt;&gt;
</I>&gt;<i> &gt; Content-Type: text/plain; charset=&quot;utf-8&quot;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Hi Kieran,
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Thanks for your detailed info. The 4D stage can be controlled normally by
</I>&gt;<i> &gt; the software from Picard in my system. While I just can&#39;t add the Z stage
</I>&gt;<i> &gt; when I try to create the hardware configuration wizard by micro-manager. So
</I>&gt;<i> &gt; there is no place I can put the serial number of the Z stage in. (I can add
</I>&gt;<i> &gt; XY stage and the twister normally and change -1 into the correct serial
</I>&gt;<i> &gt; number of the XY stage).
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I can also reproduce the problem exactly as what Mark did and encountered
</I>&gt;<i> &gt; (From Mark: I can reproduce the problem: with no Picard hardware connected
</I>&gt;<i> &gt; to the computer, no configuration dialog for the pre-initialization
</I>&gt;<i> &gt; settings (including the serial number) is displayed in the hardware
</I>&gt;<i> &gt; configuration
</I>&gt;<i> &gt; wizard. This is the case for the Twister and Z stage, but not the XY stage
</I>&gt;<i> &gt; (at least on my computer).)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Thanks,
</I>&gt;<i> &gt; Ke
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Ke Li
</I>&gt;<i> &gt; Research Assistant
</I>&gt;<i> &gt; Biomedical Engineering
</I>&gt;<i> &gt; Johns Hopkins University
</I>&gt;<i> &gt; Phone: 410-934-9802(tel:410-934-9802)
</I>&gt;<i> &gt; Email: <A HREF="http://openspim.org/mailman/listinfo/openspim">kli26 at jhu.edu</A> &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">kli26 at jhu.edu</A>&gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; On Fri, Jun 27, 2014 at 6:49 PM, Kieran Short &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">kieran.short at gmail.com</A> &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">kieran.short at gmail.com</A>&gt;&gt;
</I>&gt;<i> &gt; wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; Hi Ke,
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; You still can add the seral number to the Z in the Picard
</I>&gt;<i> &gt; &gt; application/program. This is totally independent of micromanager.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; The other thing is, the 4D stage axes are labeled with stickers which have
</I>&gt;<i> &gt; &gt; 2 bits of info . 1st is stage name and the other is the serial number. The
</I>&gt;<i> &gt; &gt; stage name doesn&#39;t necessarily represent what you think it does. Our &quot;Z&quot;
</I>&gt;<i> &gt; &gt; actually translates the stage toward and away from the detection objective!
</I>&gt;<i> &gt; &gt; That doesn&#39;t really matter though, I see Z as just a name that doesn&#39;t
</I>&gt;<i> &gt; &gt; truly reflect its function. It still works fine.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Once you enter in the correct serial number in the Picard application the
</I>&gt;<i> &gt; &gt; indicators for the stage communication in the software should turn from red
</I>&gt;<i> &gt; &gt; to green.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; The picard software is*very* strict about this serial number setting. I
</I>&gt;<i> &gt; &gt; could use just about any numbers and micromanager worked -- but this really
</I>&gt;<i> &gt; &gt; wont.
</I>&gt;<i> &gt; &gt; My feeling is that if you at least have picards app working you will know
</I>&gt;<i> &gt; &gt; if its a &quot;driver&quot; problem or not.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; It&#39;ll make Luke&#39;s job a lot easier if this is done. Have you already done
</I>&gt;<i> &gt; &gt; this and is there communication between the 4d stage and its own software
</I>&gt;<i> &gt; &gt; once you have entered tge correct serial numbers?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Cheers Kieran
</I>&gt;<i> &gt; &gt; On 28/06/2014 8:17 AM, &quot;Ke Li&quot; &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">tianlankeke at gmail.com</A> &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">tianlankeke at gmail.com</A>&gt;&gt; wrote:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; Hi Luke,
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; Thanks so much. Could you please send the link of the changed version to
</I>&gt;<i> &gt; &gt;&gt; me? And since my system is 64-bit, how can I solve the Z stage problem (no
</I>&gt;<i> &gt; &gt;&gt; field to change the serial number since I can&#39;t add the Z stage first)?
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; Thanks,
</I>&gt;<i> &gt; &gt;&gt; Ke
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; Ke Li
</I>&gt;<i> &gt; &gt;&gt; Research Assistant
</I>&gt;<i> &gt; &gt;&gt; Biomedical Engineering
</I>&gt;<i> &gt; &gt;&gt; Johns Hopkins University
</I>&gt;<i> &gt; &gt;&gt; Phone: 410-934-9802(tel:410-934-9802)
</I>&gt;<i> &gt; &gt;&gt; Email: <A HREF="http://openspim.org/mailman/listinfo/openspim">kli26 at jhu.edu</A> &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">kli26 at jhu.edu</A>&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; On Fri, Jun 27, 2014 at 2:55 PM, Luke Stuyvenberg &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">stuyvenberg at wisc.edu</A> &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">stuyvenberg at wisc.edu</A>&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; wrote:
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; Hi everyone,
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; On 06/27/14, Luke Stuyvenberg wrote:
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; I&#39;ll report back after fixing/testing and committing/uploading the
</I>&gt;<i> &gt; &gt;&gt;&gt; device adapter.
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; And so here I am. I&#39;ve committed the changes to SVN and uploaded the
</I>&gt;<i> &gt; &gt;&gt;&gt; 32-bit version of the DLL to the OpenSPIM update site.
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; Mark -- Following your suggestion, those lines were removed -- in
</I>&gt;<i> &gt; &gt;&gt;&gt; hindsight, it&#39;s not really the correct behavior, and the possible issue
</I>&gt;<i> &gt; &gt;&gt;&gt; with obtaining an invalid serial number shouldn&#39;t be common at all. Thanks!
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; Kieran -- I recently became aware of the homing problem; the stage
</I>&gt;<i> &gt; &gt;&gt;&gt; sometimes resets its internal location (when it loses power, perhaps?), so
</I>&gt;<i> &gt; &gt;&gt;&gt; over time it will be pushed away. The X/Y stage can be homed using the MM
</I>&gt;<i> &gt; &gt;&gt;&gt; Script Panel, running mmc.home(&quot;Picard XY Stage&quot;) -- the Z stage has no
</I>&gt;<i> &gt; &gt;&gt;&gt; appropriate API call, so for the time being, there is a property &quot;GoHome&quot;
</I>&gt;<i> &gt; &gt;&gt;&gt; that will home that stage when set to 1. It&#39;s a workaround until I can
</I>&gt;<i> &gt; &gt;&gt;&gt; submit a more useful patch to the MM team (though, as an API change, that
</I>&gt;<i> &gt; &gt;&gt;&gt; may take a little while).
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; Ke -- Please let me know if there are any more problems; hope this helps!
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; Luke
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; On 06/27/14, Luke Stuyvenberg wrote:
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; Hi Ke, Mark, Johannes,
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; On 06/26/14, Mark Tsuchida wrote:
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; Johannes, I also found the cause: OnSerialGeneric() is calling the
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; Initialize() function, which fails. This happens before the Hardware
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; Wizard calls Initialize (actually, when the wizard is trying to get
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; the initial values of the pre-init properties), so the wizard has no
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; chance to display the configuration dialog.
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; Simply taking out the calls to Initialize (PicardStage.cpp lines
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; 243-245, 258) seems to fix this, but I&#39;m not sure if that is all that
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; needs to be done (since I don&#39;t have a Picard stage and cannot figure
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; out what the intent of calling Initialize() at this point was).
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; Johannes, can you take a look at this?
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; The intent of the Initialize call was to test the serial number
</I>&gt;<i> &gt; &gt;&gt;&gt; received from the Pi-detector, but I didn&#39;t account for the possibility of
</I>&gt;<i> &gt; &gt;&gt;&gt; CPiDetector returning DEFAULT_SERIAL_UNKNOWN, which it does if the
</I>&gt;<i> &gt; &gt;&gt;&gt; requested device hadn&#39;t been found. I&#39;m preparing a fix for this that I
</I>&gt;<i> &gt; &gt;&gt;&gt; will submit via SVN as soon as possible.
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; The ultimate issue is this: The Pi-detector only tested serial numbers
</I>&gt;<i> &gt; &gt;&gt;&gt; up to 250. I&#39;ve doubled this for now, but this is a stop-gap measure that
</I>&gt;<i> &gt; &gt;&gt;&gt; causes an ugly pause in the device adding process while it probes the
</I>&gt;<i> &gt; &gt;&gt;&gt; serial numbers; I will need to seek a different approach to detecting the
</I>&gt;<i> &gt; &gt;&gt;&gt; motors.
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; I&#39;ll report back after fixing/testing and committing/uploading the
</I>&gt;<i> &gt; &gt;&gt;&gt; device adapter.
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; Luke
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; On 06/26/14, Mark Tsuchida wrote:
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; Hi Ke and Johannes,
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; On Thu, Jun 26, 2014 at 11:57 AM, Mark Tsuchida &lt;
</I>&gt;<i> &gt; &gt;&gt;&gt; <A HREF="http://openspim.org/mailman/listinfo/openspim">marktsuchida at gmail.com</A> &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">marktsuchida at gmail.com</A>&gt;&gt; wrote:
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; &gt; On Wed, Jun 25, 2014 at 10:27:54PM -0400, Ke Li wrote:
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; &gt;&gt; 1. I still can&#39;t add the Z stage when I create the hardware
</I>&gt;<i> &gt; &gt;&gt;&gt; configuration.
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; &gt;&gt; I tried both 64-bit and 32-bit Windows system, neither can work.
</I>&gt;<i> &gt; &gt;&gt;&gt; Since the
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; &gt;&gt; problem report doesn&#39;t give much info, I&#39;m not sure whether there
</I>&gt;<i> &gt; &gt;&gt;&gt; are other
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; &gt;&gt; ways to solve this problem? And what possible reasons can cause
</I>&gt;<i> &gt; &gt;&gt;&gt; the
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; &gt;&gt; problem?
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; &gt; Are you sure you have the correct serial number for the Z stage (as
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; &gt; Johannes suggested)? In the problem report you sent us, it looked
</I>&gt;<i> &gt; &gt;&gt;&gt; like
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; &gt; you had not set the serial number when adding the Z stage in the
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; &gt; Hardware Configuration Wizard. This causes the device adapter to
</I>&gt;<i> &gt; &gt;&gt;&gt; use the
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; &gt; serial number &quot;-1&quot;, which always results in an error.
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; &gt; Do you see a field to enter the serial number for the Z stage? If
</I>&gt;<i> &gt; &gt;&gt;&gt; you cannot
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; &gt; get it to work even when entering the correct serial number, could
</I>&gt;<i> &gt; &gt;&gt;&gt; you try
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; &gt; sending another Problem Report?
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; Sorry, I hadn&#39;t seen your reply to Johannes that answered that
</I>&gt;<i> &gt; &gt;&gt;&gt; question of mine.
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; I can reproduce the problem: with no Picard hardware connected to the
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; computer, no configuration dialog for the pre-initialization settings
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; (including the serial number) is displayed in the hardware
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; configuration wizard. This is the case for the Twister and Z stage,
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; but not the XY stage (at least on my computer).
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; Johannes, I also found the cause: OnSerialGeneric() is calling the
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; Initialize() function, which fails. This happens before the Hardware
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; Wizard calls Initialize (actually, when the wizard is trying to get
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; the initial values of the pre-init properties), so the wizard has no
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; chance to display the configuration dialog.
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; Simply taking out the calls to Initialize (PicardStage.cpp lines
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; 243-245, 258) seems to fix this, but I&#39;m not sure if that is all that
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; needs to be done (since I don&#39;t have a Picard stage and cannot figure
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; out what the intent of calling Initialize() at this point was).
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; Johannes, can you take a look at this?
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; Best,
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; Mark
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; --
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; Mark Tsuchida
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; Micro-Manager Team (UCSF Vale Lab)
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; OpenSPIM mailing list
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; <A HREF="http://openspim.org/mailman/listinfo/openspim">OpenSPIM at openspim.org</A> &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">OpenSPIM at openspim.org</A>&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; &gt; <A HREF="http://openspim.org/mailman/listinfo/openspim">http://openspim.org/mailman/listinfo/openspim</A>
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; OpenSPIM mailing list
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; <A HREF="http://openspim.org/mailman/listinfo/openspim">OpenSPIM at openspim.org</A> &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">OpenSPIM at openspim.org</A>&gt;
</I>&gt;<i> &gt; &gt;&gt;&gt; &gt; <A HREF="http://openspim.org/mailman/listinfo/openspim">http://openspim.org/mailman/listinfo/openspim</A>
</I>&gt;<i> &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; -------------- next part --------------
</I>&gt;<i> &gt; An HTML attachment was scrubbed...
</I>&gt;<i> &gt; URL: &lt;<A HREF="http://openspim.org/pipermail/openspim/attachments/20140627/6a368a1d/attachment-0001.html">http://openspim.org/pipermail/openspim/attachments/20140627/6a368a1d/attachment-0001.html</A>&gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; ------------------------------
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; OpenSPIM mailing list
</I>&gt;<i> &gt; <A HREF="http://openspim.org/mailman/listinfo/openspim">OpenSPIM at openspim.org</A> &lt;<A HREF="http://openspim.org/mailman/listinfo/openspim">OpenSPIM at openspim.org</A>&gt;
</I>&gt;<i> &gt; <A HREF="http://openspim.org/mailman/listinfo/openspim">http://openspim.org/mailman/listinfo/openspim</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; End of OpenSPIM Digest, Vol 14, Issue 20
</I>&gt;<i> &gt; ****************************************
</I>&gt;<i> &gt;
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001429.html">[OpenSPIM] OpenSPIM Digest, Vol 14, Issue 20
</A></li>
	<LI>Next message: <A HREF="001432.html">[OpenSPIM] OpenSPIM Digest, Vol 14, Issue 20
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1430">[ date ]</a>
              <a href="thread.html#1430">[ thread ]</a>
              <a href="subject.html#1430">[ subject ]</a>
              <a href="author.html#1430">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://openspim.org/mailman/listinfo/openspim">More information about the OpenSPIM
mailing list</a><br>
</body></html>
